<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script>
        function repeat(n, action) {
            for (let i = 0; i < n; i++) {
            action(i);
            }
        }
        repeat(3, console.log);
        function greaterThan(n){
            return m=>m>n;
        }
        console.log(greaterThan(10)(11));
        function noisy(f){
            return (...args)=>{
                console.log("calling with",args);
                let result=f(...args);
                console.log("called with",args,",return ",result);
                return result;
            }
        }
        noisy(Math.min)(3, 2, 1);
        function unless(test, then) {
            if (!test) then();
        }
        repeat(3, n => {
            unless(n % 2 == 1, () => {
                console.log(n, "is even");
                }
            );
        });
        ["A", "B"].forEach(l => console.log(l));
        function map(array,transform){
            let mapped=[];
            for(let element of array){
                mapped.push(transform(element));
            }
            return mapped;
        }
        // let rtlScripts=SCRIPT.filter(s=>s.direction=="rtl");
        
        function reduce(array,combine,start){
            let current=start;
            for(let element of array){
                current =combine(current,element);
            }
            return current;
        }

        console.log(reduce([1,2,3,4],(a,b)=>a+b,0));

        console.log([1, 2, 3, 4].reduce((a, b) => a + b));
        let i="i";
        console.log(i.length);

        function countBy(items,groupName){
            let counts=[];
            let num=[];
            for(let item of items){
                let name=groupName(item);
                let known=counts.findIndex(d=>d.name==name);
                if(known==-1){
                    counts.push({name,count:1});
                }else{
                    counts[known].count++;
                }
            }
            return counts;
        }
        console.log(countBy([1,2,3,4,5],n=>n>2));


        var arr = [1, 2, 3, 4];
        var sum = arr.reduce(function(prev, cur, index, arr) {
        console.log(prev, cur, index);
        return prev + cur;
        })
        console.log(arr, sum);
    </script>
</head>
<body>
    
</body>
</html>